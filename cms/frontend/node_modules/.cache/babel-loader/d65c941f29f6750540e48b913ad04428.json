{"ast":null,"code":"import { formatError, login, runLogoutTimer, saveTokenInLocalStorage, signUp } from '../../services/AuthService';\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\nexport const LOGOUT_ACTION = '[Logout action] logout action';\nexport function signupAction(email, password, history) {\n  return dispatch => {\n    signUp(email, password).then(response => {\n      saveTokenInLocalStorage(response.data);\n      runLogoutTimer(dispatch, response.data.expiresIn * 1000, history);\n      dispatch(confirmedSignupAction(response.data));\n      history.push('/dashboard');\n    }).catch(error => {\n      const errorMessage = formatError(error.response.data);\n      dispatch(signupFailedAction(errorMessage));\n    });\n  };\n}\nexport function logout(history) {\n  localStorage.removeItem('userDetails');\n  history.push('/login');\n  return {\n    type: LOGOUT_ACTION\n  };\n}\nexport function loginAction(email, password, history) {\n  return dispatch => {\n    login(email, password).then(response => {\n      saveTokenInLocalStorage(response.data);\n      runLogoutTimer(dispatch, response.data.expiresIn * 1000, history);\n      dispatch(loginConfirmedAction(response.data));\n      history.push('/dashboard');\n    }).catch(error => {\n      //console.log(error);\n      const errorMessage = formatError(error.response.data);\n      dispatch(loginFailedAction(errorMessage));\n    });\n  };\n}\nexport function loginFailedAction(data) {\n  return {\n    type: LOGIN_FAILED_ACTION,\n    payload: data\n  };\n}\nexport function loginConfirmedAction(data) {\n  return {\n    type: LOGIN_CONFIRMED_ACTION,\n    payload: data\n  };\n}\nexport function confirmedSignupAction(payload) {\n  return {\n    type: SIGNUP_CONFIRMED_ACTION,\n    payload\n  };\n}\nexport function signupFailedAction(message) {\n  return {\n    type: SIGNUP_FAILED_ACTION,\n    payload: message\n  };\n}\nexport function loadingToggleAction(status) {\n  return {\n    type: LOADING_TOGGLE_ACTION,\n    payload: status\n  };\n}","map":{"version":3,"sources":["C:/Users/Asus/Documents/Data KAMPUS/SEMESTER 6/PROYEK 3/geotara/cms/frontend/src/store/actions/AuthActions.js"],"names":["formatError","login","runLogoutTimer","saveTokenInLocalStorage","signUp","SIGNUP_CONFIRMED_ACTION","SIGNUP_FAILED_ACTION","LOGIN_CONFIRMED_ACTION","LOGIN_FAILED_ACTION","LOADING_TOGGLE_ACTION","LOGOUT_ACTION","signupAction","email","password","history","dispatch","then","response","data","expiresIn","confirmedSignupAction","push","catch","error","errorMessage","signupFailedAction","logout","localStorage","removeItem","type","loginAction","loginConfirmedAction","loginFailedAction","payload","message","loadingToggleAction","status"],"mappings":"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","sourcesContent":["import {\r\n    formatError,\r\n    login,\r\n    runLogoutTimer,\r\n    saveTokenInLocalStorage,\r\n    signUp,\r\n} from '../../services/AuthService';\r\n\r\n\r\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\r\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\r\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\r\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\r\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\r\nexport const LOGOUT_ACTION = '[Logout action] logout action';\r\n\r\nexport function signupAction(email, password, history) {\r\n    return (dispatch) => {\r\n        signUp(email, password)\r\n        .then((response) => {\r\n            saveTokenInLocalStorage(response.data);\r\n            runLogoutTimer(\r\n                dispatch,\r\n                response.data.expiresIn * 1000,\r\n                history,\r\n            );\r\n            dispatch(confirmedSignupAction(response.data));\r\n            history.push('/dashboard');\r\n        })\r\n        .catch((error) => {\r\n            const errorMessage = formatError(error.response.data);\r\n            dispatch(signupFailedAction(errorMessage));\r\n        });\r\n    };\r\n}\r\n\r\nexport function logout(history) {\r\n    localStorage.removeItem('userDetails');\r\n    history.push('/login');\r\n    return {\r\n        type: LOGOUT_ACTION,\r\n    };\r\n}\r\n\r\nexport function loginAction(email, password, history) {\r\n    return (dispatch) => {\r\n        login(email, password)\r\n            .then((response) => {\r\n                saveTokenInLocalStorage(response.data);\r\n                runLogoutTimer(\r\n                    dispatch,\r\n                    response.data.expiresIn * 1000,\r\n                    history,\r\n                );\r\n                dispatch(loginConfirmedAction(response.data));\r\n\t\t\t\thistory.push('/dashboard');                \r\n            })\r\n            .catch((error) => {\r\n\t\t\t\t//console.log(error);\r\n                const errorMessage = formatError(error.response.data);\r\n                dispatch(loginFailedAction(errorMessage));\r\n            });\r\n    };\r\n}\r\n\r\nexport function loginFailedAction(data) {\r\n    return {\r\n        type: LOGIN_FAILED_ACTION,\r\n        payload: data,\r\n    };\r\n}\r\n\r\nexport function loginConfirmedAction(data) {\r\n    return {\r\n        type: LOGIN_CONFIRMED_ACTION,\r\n        payload: data,\r\n    };\r\n}\r\n\r\nexport function confirmedSignupAction(payload) {\r\n    return {\r\n        type: SIGNUP_CONFIRMED_ACTION,\r\n        payload,\r\n    };\r\n}\r\n\r\nexport function signupFailedAction(message) {\r\n    return {\r\n        type: SIGNUP_FAILED_ACTION,\r\n        payload: message,\r\n    };\r\n}\r\n\r\nexport function loadingToggleAction(status) {\r\n    return {\r\n        type: LOADING_TOGGLE_ACTION,\r\n        payload: status,\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}